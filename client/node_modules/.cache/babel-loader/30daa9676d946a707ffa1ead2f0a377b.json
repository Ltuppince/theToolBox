{"ast":null,"code":"import _slicedToArray from \"/Users/lorenzot.tuppince/git/theToolBox/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/lorenzot.tuppince/git/theToolBox/client/src/components/Login.js\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport axios from \"axios\";\nimport UserContext from \"../utils/UserContext\"; // import { response } from \"express\";\n\nexport default function Login() {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      _email = _useState2[0],\n      _setEmail = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      _password = _useState4[0],\n      _setPassword = _useState4[1]; // const [loginErrors, setLoginErrors] = useState(\"\")\n\n\n  var _useContext = useContext(UserContext),\n      handleUpdate = _useContext.handleUpdate,\n      _useContext$test = _useContext.test,\n      test = _useContext$test === void 0 ? \"\" : _useContext$test;\n\n  console.log(\"LOGIN COMPONENT: \".concat(test));\n\n  var handleChange = function handleChange(event) {\n    switch (event.target.name) {\n      case 'email':\n        _setEmail(event.target.value);\n\n        break;\n\n      case 'password':\n        _setPassword(event.target.value);\n\n        break;\n    }\n  };\n\n  var handleSubmit = function handleSubmit(event) {\n    axios.post(\"api/users/login\", {\n      user: {\n        email: _email,\n        password: _password\n      }\n    }, {\n      withCredentials: true\n    }).then(function (response) {\n      var _response$data = response.data,\n          _id = _response$data._id,\n          email = _response$data.email;\n      console.log(\"res from login\", response); //   if (response.data.logged_in) {\n      //     this.props.handleSuccessfulAuth(response.data);\n      //   }\n    }).catch(function (error) {\n      console.log(\"login error\", error);\n    });\n    event.preventDefault();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    placeholder: \"Email\",\n    value: _email,\n    onChange: handleChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Password\",\n    value: _password,\n    onChange: handleChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-info\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, \"submit\")));\n}","map":{"version":3,"sources":["/Users/lorenzot.tuppince/git/theToolBox/client/src/components/Login.js"],"names":["React","useState","useEffect","useContext","axios","UserContext","Login","_email","_setEmail","_password","_setPassword","handleUpdate","test","console","log","handleChange","event","target","name","value","handleSubmit","post","user","email","password","withCredentials","then","response","data","_id","catch","error","preventDefault"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,sBAAxB,C,CACA;;AAEA,eAAe,SAASC,KAAT,GAAkB;AAAA,kBAEHL,QAAQ,CAAC,EAAD,CAFL;AAAA;AAAA,MAExBM,MAFwB;AAAA,MAEhBC,SAFgB;;AAAA,mBAGGP,QAAQ,CAAC,EAAD,CAHX;AAAA;AAAA,MAGxBQ,SAHwB;AAAA,MAGbC,YAHa,kBAI/B;;;AAJ+B,oBAKKP,UAAU,CAACE,WAAD,CALf;AAAA,MAKvBM,YALuB,eAKvBA,YALuB;AAAA,qCAKTC,IALS;AAAA,MAKTA,IALS,iCAKF,EALE;;AAO/BC,EAAAA,OAAO,CAACC,GAAR,4BAAgCF,IAAhC;;AAEA,MAAMG,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAW;AAC9B,YAAOA,KAAK,CAACC,MAAN,CAAaC,IAApB;AACE,WAAK,OAAL;AACEV,QAAAA,SAAS,CAACQ,KAAK,CAACC,MAAN,CAAaE,KAAd,CAAT;;AACA;;AACF,WAAK,UAAL;AACET,QAAAA,YAAY,CAACM,KAAK,CAACC,MAAN,CAAaE,KAAd,CAAZ;;AACA;AANJ;AAQD,GATD;;AAWA,MAAMC,YAAY,GAAG,SAAfA,YAAe,CAACJ,KAAD,EAAW;AAC9BZ,IAAAA,KAAK,CACFiB,IADH,CAEI,iBAFJ,EAGI;AACEC,MAAAA,IAAI,EAAE;AACJC,QAAAA,KAAK,EAAEhB,MADH;AAEJiB,QAAAA,QAAQ,EAAEf;AAFN;AADR,KAHJ,EASI;AAAEgB,MAAAA,eAAe,EAAE;AAAnB,KATJ,EAWGC,IAXH,CAWQ,UAACC,QAAD,EAAc;AAAA,2BACKA,QAAQ,CAACC,IADd;AAAA,UACVC,GADU,kBACVA,GADU;AAAA,UACLN,KADK,kBACLA,KADK;AAElBV,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8Ba,QAA9B,EAFkB,CAGlB;AACA;AACA;AACD,KAjBH,EAkBGG,KAlBH,CAkBS,UAACC,KAAD,EAAW;AAChBlB,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BiB,KAA3B;AACD,KApBH;AAqBAf,IAAAA,KAAK,CAACgB,cAAN;AACD,GAvBD;;AAyBA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,QAAQ,EAAEZ,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,WAAW,EAAC,OAHd;AAIE,IAAA,KAAK,EAAEb,MAJT;AAKE,IAAA,QAAQ,EAAEQ,YALZ;AAME,IAAA,QAAQ,MANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAUE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,WAAW,EAAC,UAHd;AAIE,IAAA,KAAK,EAAEN,SAJT;AAKE,IAAA,QAAQ,EAAEM,YALZ;AAME,IAAA,QAAQ,MANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,eAmBE;AAAQ,IAAA,SAAS,EAAC,cAAlB;AAAiC,IAAA,IAAI,EAAC,QAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAnBF,CADF,CADF;AA2BD","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport axios from \"axios\";\nimport UserContext from \"../utils/UserContext\"\n// import { response } from \"express\";\n\nexport default function Login () {\n\n  const [_email, _setEmail] = useState(\"\")\n  const [_password, _setPassword] = useState(\"\")\n  // const [loginErrors, setLoginErrors] = useState(\"\")\n  const { handleUpdate, test = \"\" } = useContext(UserContext)\n\n  console.log(`LOGIN COMPONENT: ${test}`)\n\n  const handleChange = (event) => {\n    switch(event.target.name) {\n      case 'email':\n        _setEmail(event.target.value)\n        break;\n      case 'password':\n        _setPassword(event.target.value)\n        break;\n    }\n  }\n\n  const handleSubmit = (event) => {\n    axios\n      .post(\n        \"api/users/login\",\n        {\n          user: {\n            email: _email,\n            password: _password,\n          },\n        },\n        { withCredentials: true }\n      )\n      .then((response) => {\n        const { _id, email } = response.data\n        console.log(\"res from login\", response);\n        //   if (response.data.logged_in) {\n        //     this.props.handleSuccessfulAuth(response.data);\n        //   }\n      })\n      .catch((error) => {\n        console.log(\"login error\", error);\n      });\n    event.preventDefault();\n  }\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"email\"\n          name=\"email\"\n          placeholder=\"Email\"\n          value={_email}\n          onChange={handleChange}\n          required\n        />\n\n        <input\n          type=\"password\"\n          name=\"password\"\n          placeholder=\"Password\"\n          value={_password}\n          onChange={handleChange}\n          required\n        />\n        {/* <p style={{color: this.state.login.success ? \"green\" : \"red\"}}>{this.state.login.log}</p> */}\n        <button className=\"btn btn-info\" type=\"submit\">\n          submit\n        </button>\n      </form>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}